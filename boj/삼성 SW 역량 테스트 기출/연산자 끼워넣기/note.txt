dfs로 모든 케이스를 탐색해 봐도 시간상 괜찮을 듯.