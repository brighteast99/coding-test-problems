괜한 고민때문에 풀이가 조금 길어진 문제.

첫 번째 오해: 여러 조각을 조합하여 하나의 공간에 넣을 수 있는 줄 알았다.
두 번째 오해: 그래서 조각을 배치하는 경우의 수도 탐색해야 할 줄 알았다.

우선 문제 조건상 조각을 채울 때 인접한 칸이 비어있으면 안 된다는 말이 있다.
이 말을 오해했는데, 어느 한 칸에라도 붙어있으면 된다는 것이 아니라 조각과 공간의 모양이 꼭 맞아야 한다는 것이었다.
자연스럽게 여러 조각을 조합하여 한 공간에 넣는 것도 불가능하다.

그렇다면 각 공간에 들어갈 수 있는 조각들은 정해져 있고, 그 중 어느 조각이 들어가든 채워지는 칸 수는 동일하므로
결국 알아야 하는 것은 각 공간/조각의 모양에 대한 정보, 그리고 공간과 조각의 모양이 일치하는지 판단하는 방법 뿐이다.
공간과 조각의 모양은 기본적인 bfs로 구할 수 있다.

조각을 맞추는 것 역시 매뉴얼하게 돌려가며 맞춰도 충분.
